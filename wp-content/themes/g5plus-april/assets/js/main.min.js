(function(a){"use strict";var b=window.G5_Main||{};window.G5_Main=b;var c=a(window),d=a("body"),e=d.hasClass("rtl");b.blog={init:function(){this.readingProcess(),this.processTabs()},readingProcess:function(){var b=a("#gsf-reading-process"),d=a(".single-post .gf-single-wrap .post-single");0<b.length&&0<d.length&&d.imagesLoaded(function(){var a=d.height(),e=c.height(),f=0,g=d.offset().top,h=c.scrollTop();h>g&&(f=100*(h-g)/(a-e)),100<f&&(f=100),b.css("width",f+"%"),c.scroll(function(){var f=0,g=d.offset().top,h=c.scrollTop();h>g&&(f=100*(h-g)/(a-e)),100<f&&(f=100),b.css("width",f+"%")})})},processTabs:function(){a(".gsf-pretty-tabs").each(function(){var b=a(this);if(0<b.closest("[data-items-wrapper]").find(".nav-top-right").length){var c=a(this).closest("[data-items-wrapper]").find(".nav-top-right");c.on("owlInitialized",function(){var c=a(this).children(".owl-nav"),d=c.outerWidth();e?b.css("margin-left",d+30):b.css("margin-right",d+30),b.gsfPrettyTabs()})}})}},b.popup={init:function(){var b=a(".gsf-login-link-sign-in"),c=a("#gsf-popup-login-wrapper"),d=a(".gsf-login-link-sign-up"),e=a("#gsf-popup-register-wrapper");b.on("click",function(){c.length&&c.modal()}),d.on("click",function(){e.length&&e.modal()}),this.login_link_event()},login_link_event:function(){var b=null;a("#gsf-popup-login-form, #gsf-popup-register-form").submit(function(c){b=null;var e=a(c.target).find("[type=\"submit\"]"),f="#"+a(this).attr("id");e.hasClass("ladda-button")&&0<e.length&&(b=Ladda.create(e[0]),b.start());var g=a(f).serialize();return d.addClass("overflow-hidden"),d.append("<div class=\"processing-title\"><i class=\"fa fa-spinner fa-spin fa-fw\"></i></div>"),a.ajax({type:"POST",data:g,url:g5plus_variable.ajax_url,success:function(c){a(".processing-title").fadeOut(function(){a(".processing-title").remove(),d.removeClass("overflow-hidden")});var e=a.parseJSON(c);0>e.code?a(".login-message",f).html(e.message):window.location.reload(),null!==b&&(b.stop(),b.remove())},error:function(){a(".processing-title").fadeOut(function(){a(".processing-title").remove(),d.removeClass("overflow-hidden")}),null!==b&&(b.stop(),b.remove())}}),c.preventDefault(),!1})}},b.page={init:function(){this.rowEqualHeight(),this.events(),this.instagramCarousel()},rowEqualHeight:function(){a(".row-equal-height").each(function(){var b=a(".gsf-product-singular",a(this)),c=a(".product-info",b).outerHeight(),d=a(".gf-banner",a(this)),e=a(".gf-banner-bg",d);if(G5_Core.util.isDesktop()){var f=a(".image-item",a(".product-singular-images",b)),g=f.outerHeight(),h=c+g;e.css("padding-bottom",h+"px"),a(".product-singular-images",b).on("owlInitialized",function(){f=a(".image-item",a(this)),g=f.outerHeight(),h=c+g,e.css("padding-bottom",h+"px")})}else e.css("padding-bottom","")})},events:function(){a(window).on("resize",function(){setTimeout(function(){b.page.rowEqualHeight()},500)})},instagramCarousel:function(){a(".instagram-3-columns .instagram-pics,.instagram-3-columns .zoom-instagram-widget__items ").addClass("owl-carousel").owlCarousel({items:3,nav:!1,dots:!1,margin:20,responsive:{1200:{items:3},576:{items:2},0:{items:1}}})}},a(document).ready(function(){b.blog.init(),b.popup.init(),b.page.init()})})(jQuery);